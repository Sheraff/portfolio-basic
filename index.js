(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var n=s.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{const t=document.createRange(),e=t.createContextualFragment('<template>\n\t<style>\n\t\t:host {\n\t\t\tposition: relative;\n\t\t\tdisplay: block;\n\t\t\tz-index: 0;\n\t\t\t--split: 100%;\n\t\t}\n\t\t.content {\n\t\t\tclip-path: inset(0px 0px calc(100% - var(--split)) 0px);\n\t\t}\n\t\t.clone {\n\t\t\t--delta: 0px;\n\t\t\tposition: absolute;\n\t\t\tinset: 0;\n\t\t\tclip-path: inset(var(--split) 0px 0px 0px);\n\t\t\ttransform: translateY(var(--delta));\n\t\t}\n\t\t.split {\n\t\t\tposition: absolute;\n\t\t\tinset: var(--split) 0 0;\n\t\t}\n\t</style>\n\t<div class="content">\n\t\t<slot></slot>\n\t</div>\n\t<div class="split">\n\t\t<slot name="split"></slot>\n\t</div>\n</template>');function s(t,e){let n=t;for(;(n=n.nextElementSibling)&&"SCRIPT"!==n.tagName&&"STYLE"!==n.tagName;)e.push(n);return t===document.body?e:s(t.parentElement,e)}class n extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(function(){const t=e.firstElementChild,s=document.querySelector("style").cloneNode(!0),n=t.content.cloneNode(!0);return n.insertBefore(s,n.firstChild),n}()),this.makeClone(),this.makeSplit(),this.state=!1,this.shadowRoot.addEventListener("split-toggle",this.toggle.bind(this))}connectedCallback(){this.isConnected&&n.registry.add(this)}disconnectedCallback(){n.registry.delete(this)}static registry=new Set;static findOpenInstance(){const t=n.registry.values();let e;for(;e=t.next().value;)if(e.state)return e;return null}makeClone(){this.clone=document.createElement("div"),this.clone.classList.add("clone"),this.clone.setAttribute("aria-hidden","true"),this.clone.innerHTML=this.innerHTML,this.shadowRoot.appendChild(this.clone)}makeSplit(){this.split=document.createElement("div"),this.split.setAttribute("slot","split"),this.split.setAttribute("tabindex","-1"),this.appendChild(this.split)}toggle(t){t.detail?this.open(t.target,t.detail):this.close()}async open(e,s){console.log();const i=n.findOpenInstance();i&&await i.close(),this.state=!0,this.split.appendChild(t.createContextualFragment(s));const{delta:o,toSibling:l}=this.setCss(e)}setCss(t){this.movables=s(this,[]),this.movables.forEach((t=>t.style.setProperty("transform","translateY(var(--to-sibling, 0px))")));const e=()=>{const{top:e}=t.parentElement.getBoundingClientRect(),{bottom:s}=t.getBoundingClientRect();this.style.setProperty("--split",s-e+"px");const n=this.split.offsetHeight;this.clone.style.setProperty("--delta",`${n}px`);const i=this.movables[0].offsetTop,o=Math.max(0,this.offsetTop+this.offsetHeight+n-i);return document.body.style.setProperty("--to-sibling",`${o}px`),{delta:n,toSibling:o}};return window.addEventListener("resize",e),this.unsetCss=()=>{this.movables.forEach((t=>t.style.removeProperty("transform"))),this.clone.style.removeProperty("--delta"),document.body.style.removeProperty("--to-sibling"),window.removeEventListener("resize",e)},e()}close(){return this.state=!1,this.split.innerHTML="",this.unsetCss(),Promise.resolve()}}const i=new Map,o=new Map;class l extends HTMLElement{constructor(){var t;super(),(t=this.id,i.has(t)||i.set(t,fetch(`pages/${t}.html`).then((t=>t.text()))),i.get(t)).then((t=>{this.content=t,this.addEventListener("click",this.toggle),this.addEventListener("keydown",this.keydown),this.setAttribute("role","button")})),o.has(this.id)||o.set(this.id,[]),o.get(this.id).push(this)}toggle(){this.state=!this.state,this.dispatchEvent(new CustomEvent("split-toggle",{detail:this.state?this.content:null,bubbles:!0}))}keydown(t){"Enter"===t.key&&this.toggle()}get id(){return this.dataset.page}get state(){return"true"===this.dataset.state}set state(t){o.get(this.id).forEach((e=>{e.dataset.state=String(t)}))}}customElements.define("split-container",n),customElements.define("split-target",l);const r=document.createElement("link");r.rel="stylesheet",r.href="styles/pages.css",document.head.appendChild(r)})(),t.p,t.p,t.p,t.p,t.p})();